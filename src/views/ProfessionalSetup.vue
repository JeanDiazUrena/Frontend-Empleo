<template>
  <div class="setup-container">
    <header class="setup-header">
      <div class="logo">SERVIHUB</div>
    </header>

    <div class="form-wrapper">
      <div class="form-card">
        <h2>Completa tu Perfil Profesional</h2>
        <p class="subtitle">Para que los clientes te encuentren y conf√≠en en ti.</p>

        <form @submit.prevent="saveProfile">
          
          <div class="form-section">
            <div class="profile-upload">
              <div class="avatar-preview">
                <span v-if="!form.avatar">üì∑</span>
                <img v-else :src="form.avatar" alt="Preview" />
              </div>
              <button type="button" class="btn-upload">Subir Foto</button>
            </div>

            <div class="input-group">
              <label for="profession">Tu Profesi√≥n o T√≠tulo</label>
              <input 
                type="text" 
                id="profession" 
                v-model="form.profession" 
                placeholder="Ej. Plomero Certificado, T√©cnico de PC..." 
                required
              />
            </div>

            <div class="input-group">
              <label for="bio">Biograf√≠a Breve</label>
              <textarea 
                id="bio" 
                v-model="form.bio" 
                placeholder="Cu√©ntale a los clientes sobre tu experiencia..." 
                rows="3"
              ></textarea>
            </div>
          </div>

          <div class="form-section">
            <div class="input-group">
              <label for="category">Categor√≠a Principal</label>
              <select id="category" v-model="form.category" required>
                <option value="" disabled selected>Selecciona una opci√≥n</option>
                <option value="hogar">Hogar y Reparaciones</option>
                <option value="tecnologia">Tecnolog√≠a e Inform√°tica</option>
                <option value="educacion">Clases y Educaci√≥n</option>
                <option value="belleza">Belleza y Cuidado</option>
              </select>
            </div>

            <div class="input-group">
              <label for="phone">Tel√©fono de Contacto (WhatsApp)</label>
              <input 
                type="tel" 
                id="phone" 
                v-model="form.phone" 
                placeholder="Ej. 809-555-5555" 
              />
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">Guardar y Continuar</button>
          </div>

        </form>
      </div>
    </div>
  </div>
</template>

<script setup>
import { reactive } from 'vue';
import { useRouter } from 'vue-router';
import './ProfessionalSetup.css'; // Importamos tu CSS separado aqu√≠

const router = useRouter();

const form = reactive({
  avatar: null,
  profession: '',
  bio: '',
  category: '',
  phone: ''
});

const saveProfile = () => {
  // Aqu√≠ ir√≠a la l√≥gica para enviar los datos a tu Backend (Node.js)
  console.log('Guardando perfil:', form);
  
  // Simulaci√≥n de redirecci√≥n al siguiente paso (Crear primer post)
  router.push('/create-first-post'); 
};
</script>